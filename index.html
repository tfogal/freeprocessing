<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Freeprocessing</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1><i>Free</i>processing</h1>
        <p>in situ visualization tool</p>
        <p class="view"><a href="https://github.com/tfogal/freeprocessing">View the Project on GitHub <small>tfogal/freeprocessing</small></a></p>
        <ul>
          <li><a href="https://github.com/tfogal/freeprocessing/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/tfogal/freeprocessing/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/tfogal/freeprocessing">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>

<p><i>Free</i>processing is a tool for injecting arbitrary computations
at data movement points in a program.  It was initially designed for
doing <i>in situ</i> visualizations, thought it is applicable in a much
wider domain.</p>

<h1>
  <a name="obtaining" class="anchor" href="#obtaining">
    <span class="octicon octicon-link"></span>
    Obtaining
  </a>
</h1>

<p><i>Free</i>processing is still in 'early adopter' mode.  We
recommend you use one of the links at the top right, or just <a
href="https://github.com/tfogal/freeprocessing.git">grab the source
directly from github</a>.

<h1>
  <a name="building" class="anchor" href="#building">
    <span class="octicon octicon-link"></span>
    Compilation
  </a>
</h1>

<p>
The build system is based on the GNU autotools toolchain.  In
short, this means that installation is based on the familiar
<tt>./configure</tt>, <tt>make</tt>, <tt>make install</tt> sequence.
<i>Free</i>processing does not need root privileges can thus be
installed inside your home directory.
</p>

<p>
Those interested in using the Python interface will want to
<tt>./configure</tt> with the <tt>--enable-python</tt> option.
</p>

<h1>
  <a name="documentation" class="anchor" href="#documentation">
    <span class="octicon octicon-link"></span>
    Documentation
  </a>
</h1>

<ul>

  <li>There are a couple of early demonstration videos available.
  These are not great documentation, but show you what kinds of things
  you can do with <i>Free</i>processing.
  <ul>
    <li><a href="http://www.youtube.com/watch?v=eFpvyJU_0Zs">The earliest use
        of <i>Free</i>processing</a> reformatted data out of the 'PsiPhi'
        simulation (LES) to be more amenable for visualization.
    <li><a href="http://yt-project.org/">yt</a> users will be especially
        interested to
        <a href="http://www.youtube.com/watch?v=eEUtmdh9e5E">watch the author's
        forays into <i>in situ</i> visualization of Enzo outputs using yt.
  </ul>

  <li><a href="./tutorial/">A tutorial for <i>Free</i>processing</a> is
  available.  It assumes you have things compiled and installed.

  <li><i>Free</i>processing has been
  <a href="http://www.sci.utah.edu/~tfogal/academic/freeprocessing/Fogal-2014-InSitu.pdf">
  published</a> at
  <a href="http://www.vis.uni-stuttgart.de/egpgv/egpgv2014/">EGPGV</a>.
  If you can make it out to Wales, some of the authors will be present
  at EuroVis and are always welcome to conversations with users.

</ul>

<h1>
  <a name="support" class="anchor" href="#support">
    <span class="octicon octicon-link"></span>
    Support
  </a>
</h1>

<p>
The author believes "FAQs" decay too easily into "AQs", but <a
href="./common-problems.html">we do maintain a list of issues and their
solutions</a>
that we think may help many.
</p>

<p>
The best way to get help is by sending an email to <a
href="http://www.sci.utah.edu/~tfogal/">Tom Fogal</a>.  He is happy to
provide real-time help via IRC or skype, and in return he asks only for
real-time feedback.
</p>

<p><code>pattern { exec: /path/to/library.so }</code></p>

<p>Where <tt>pattern</tt> is a shell glob and
<tt>library.so</tt> is a library implementing a pre-prescribed
interface (see <tt>LIBRARIES</tt>).  An example:</p>

<pre><code>*header* { exec: ./libmine.so }
*.data { exec: ./libmine.so }
*tosend* { exec: ./libinstr.so }
</code></pre>

<p>This defines three processing elements, <code>libmine</code> will
be used whenever a filename which matches <code>*header*</code> or
<code>*.data</code> is accessed. <em>Both</em> instances get called.
The order they are called is undefined.</p>

<!--
<h1>
<a name="libraries" class="anchor" href="#libraries"><span class="octicon octicon-link"></span></a>Libraries</h1>

<p>Libraries need only export one function:</p>

<ol>
<li><code>void exec(const char* fn, const void* buf, size_t n)</code></li>
</ol><p>It is called anytime a file is written to.  The filename given in the
first argument is the exact filename (not, for example, the pattern
given in the configuration file).</p>

<p>The symbiont attempts to take care of the issue of partial writes;
there should be a 1-1 mapping between program <code>write</code>s and <code>exec</code>
invocations.</p>

<p>Libraries can optionally implement two additional functions:</p>

<ol>
<li>
<code>void metadata(const char* fn, const size_t dims[3], int)</code>, and</li>
<li><code>void finish(const char* fn)</code></li>
</ol><p><code>metadata</code> is called directly before <code>exec</code>, in the case that the
simulation knows metadata for the impending <code>write</code>.  This is only
possible with some self-describing transport mechanisms.  If your code
does not utilize IO middleware, this function will never be called.
In this case, you have to provide any needed metadata yourself.  We
recommend parsing a config file the first time <code>exec</code> is called.</p>

<p><code>finish</code> notifies you when the program is finished with a file or
pattern.  Good time to clean up resources.</p>

-->
<h1>
<a name="environment" class="anchor" href="#environment"><span class="octicon octicon-link"></span></a>Environment</h1>

<ul>
<li>
<code>LIBSITU_DEBUG</code>: used to selectively enable debug information.  See
below for more info.</li>
</ul>

<h2>
<a name="debug-channel-settings" class="anchor" href="#debug-channel-settings"><span class="octicon octicon-link"></span></a>Debug Channel Settings</h2>

<p>The symbiont has a set of unique debug channels.  Generally these are
all related to a specific feature, such as investigating when files are
opened, or when data is transferred, or other information.</p>

<p>In addition, each channel has a set of *class*es, which might loosely
be thought of as severity.  So you can, for example, turn on only the
warnings from a particular channel, or only the errors.</p>

<p>The way one configures these channels is through the
<code>LIBSITU_DEBUG</code> environment variable.  The general form is <code>channel
name=[+-]class[,...]</code>, e.g.:</p>

<p>opens=+warn</p>

<p>which says to enable warnings on the channel <code>opens</code>.  Multiple class
specifications are separated by commas:</p>

<p>opens=+trace,-warn</p>

<p>Multiple channels are delimited by semicolons:</p>

<p>opens=+trace,-warn;writes=+trace</p>

<p>The currently defined channels are:</p>

<ul>
<li>
<code>opens</code>: all <code>open</code>-esque calls, along with their <code>close</code>
counterparts.</li>
<li>
<code>freeproc</code>: loading and using libraries</li>
<li>
<code>writes</code>: all <code>write</code>-esque calls. (<em>CAUTION</em>: spammy)</li>
<li>
<code>posix</code>: trace POSIX I/O calls.</li>
<li>
<code>hdf5</code>: HDF5 calls of interest.</li>
</ul><p>The currently defined classes are:</p>

<ul>
<li>
<code>err</code>: errors which almost certainly indicate a bug in either the
symbiont or the host program.</li>
<li>
<code>warn</code>: generally anomalous conditions which might not be a
problem, such as an internal table filling up.</li>
<li>
<code>trace</code>: notification <em>when</em> a call occurs, in a manner similar to
<code>strace(1)</code> or <code>ltrace(1)</code>.</li>
</ul>

<!--
<h1>
<a name="notes" class="anchor" href="#notes"><span class="octicon octicon-link"></span></a>Notes</h1>

<p>It seems that the executable needs to be built as position-independent
code for this to work.</p>

<p>if the code is not position-independent, then
<code>__attribute__((constructor))</code> functions do not get run and thus our
function pointers never get initialized.</p>

<p>Fortran may work a bit differently, doesn't seem required there.</p>
-->
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/tfogal">tom</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme modified from <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
  </body>
</html>
